{% extends "base.html" %}

{% block title %}Sign Up - Gym Management System{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="row g-0">
                    <!-- Role Selection Sidebar -->
                    <div class="col-md-4 bg-primary text-white d-flex flex-column justify-content-center align-items-center">
                        <h4 class="text-center mb-3">Sign Up As</h4>
                        <button class="btn btn-light w-75 mb-2" id="gym-owner-btn">Gym Owner</button>
                        <button class="btn btn-light w-75" id="normal-user-btn">Normal User</button>
                    </div>
                    <!-- Signup Form -->
                    <div class="col-md-8">
                        <div class="card-body">
                            <h4 class="card-title text-center mb-4">Create Your Account</h4>
                            <form method="POST" action="{{ url_for('signup') }}" enctype="multipart/form-data">
                                <input type="hidden" id="role" name="role" value="gym_owner">
                                <div class="mb-3" id="gym-name-group">
                                    <label for="gym_name" class="form-label">Gym Name</label>
                                    <input type="text" class="form-control" id="gym_name" name="gym_name" placeholder="Enter your gym name">
                                </div>
                                <div class="mb-3">
                                    <label for="name" class="form-label">Your Name</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="password" class="form-label">Password</label>
                                    <input type="password" class="form-control" id="password" name="password" required>
                                </div>
                                <div class="mb-3">
                                    <label for="photo" class="form-label">Profile Photo</label>
                                    <input type="file" class="form-control" id="photo" name="photo">
                                </div>
                                <div class="text-end">
                                    <a href="{{ url_for('login') }}" class="btn btn-link">Already have an account?</a>
                                    <button type="submit" class="btn btn-primary">Sign Up</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const roleInput = document.getElementById('role');
    const gymNameGroup = document.getElementById('gym-name-group');
    const gymOwnerBtn = document.getElementById('gym-owner-btn');
    const normalUserBtn = document.getElementById('normal-user-btn');

    gymOwnerBtn.addEventListener('click', function() {
        roleInput.value = 'gym_owner';
        gymNameGroup.style.display = 'block';
        gymOwnerBtn.classList.add('btn-dark');
        gymOwnerBtn.classList.remove('btn-light');
        normalUserBtn.classList.add('btn-light');
        normalUserBtn.classList.remove('btn-dark');
    });

    normalUserBtn.addEventListener('click', function() {
        roleInput.value = 'normal';
        gymNameGroup.style.display = 'none';
        normalUserBtn.classList.add('btn-dark');
        normalUserBtn.classList.remove('btn-light');
        gymOwnerBtn.classList.add('btn-light');
        gymOwnerBtn.classList.remove('btn-dark');
    });

    // Set initial state
    gymOwnerBtn.click();
});
</script>
{% endblock %}
